{"version":3,"sources":["webpack:///./src/components/kalendar/kalendar-day.vue?88fe","webpack:///./node_modules/core-js/modules/es6.array.find-index.js","webpack:///./src/components/kalendar/kalendar-weekview.vue?cb23","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./src/components/kalendar/kalendar-weekview.vue?0d71","webpack:///./src/components/kalendar/kalendar-day.vue?dd56","webpack:///src/components/kalendar/kalendar-day.vue","webpack:///./src/components/kalendar/kalendar-day.vue?33cd","webpack:///./src/components/kalendar/kalendar-day.vue","webpack:///src/components/kalendar/kalendar-weekview.vue","webpack:///./src/components/kalendar/kalendar-weekview.vue?0352","webpack:///./src/components/kalendar/kalendar-weekview.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_kalendar_day_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_kalendar_day_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","$export","$find","KEY","forced","Array","P","F","findIndex","callbackfn","this","arguments","length","undefined","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_kalendar_weekview_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_kalendar_weekview_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","$at","String","iterated","_t","_i","point","O","index","value","done","render","_vm","_h","$createElement","_c","_self","staticClass","style","colsSpace","_l","days","ref","key","class","today","_isToday","is-before","isBefore","_v","_s","kalendar_options","formatDayTitle","date","all-today","is-all-day","cell_height","_e","hours","hour","hourHeight","formatLeftHours","directives","name","rawName","expression","passedtime","day","slice","refInFor","attrs","passed-time","distance","staticRenderFns","kalendar_dayvue_type_template_id_6f00e600_render","is-weekend","isWeekend","is-today","isToday","creating","creator","status","staticStyle","position","passedTime","cell","constructed-events","day_events","cell-data","temporary-event","temporary_event","on","select","updateCreator","reset","$event","resetEvents","initiatePopup","kalendar_dayvue_type_template_id_6f00e600_staticRenderFns","cloneObject","window","kalendarHelpers","utils","_isWeekend","kalendar_dayvue_type_script_lang_js_","props","created","renderDay","components","kalendarCell","e","then","bind","provide","kalendarAddEvent","addEvent","kalendarClearPopups","clearCreatingLeftovers","inject","mounted","scrollToNow","scrollView","computed","data","starting_cell","original_starting_cell","current_cell","ending_cell","day_cells","methods","_this","workers","send","hourOptions","start_hour","day_starts_at","end_hour","day_ends_at","reply","getDayEvents","$kalendar","getEvents","payload","_this2","validation_message","checkEventValidity","Promise","reject","from","to","getLocaleTime","event","_objectSpread","constructed_event","hasOwnProperty","push","$set","events","console","log","id","updateEvents","removeEvent","eventIndex","splice","resolve","_this3","clonedEvents","map","constructed_events","hasPending","some","completed","filter","temporary_id","validateSelection","overlap","fixedOverlap","overlapPolice","selectCell","direction","_this$creator","real_ending_cell_index","diffInMs","Date","diffInHrs","Math","floor","diffMins","round","startDate","endDate","start","masked_value","toISOString","rounded","round_offset","end","_this$creator2","finalEvent","updated_events","_this4","overlapped","Object","keys","evKey","flat","cellStart","cellEnd","eventStarts","eventEnds","newPayload","needed_cell","event_cell","find","c","_needed_cell","_event_cell","_cell","topoffset","$refs","nowIndicator","offsetTop","setTimeout","scroll","top","left","behavior","kalendar_kalendar_dayvue_type_script_lang_js_","component","componentNormalizer","kalendar_day","_isBefore","getHourlessDate","addTimezoneInfo","getDatelessHour","formatAMPM","kalendar_weekviewvue_type_script_lang_js_","KalendarDays","addHelperMethods","setInterval","now","constructWeek","_this$kalendar_option","time","day_starts","concat","split","padStart","day_ends","label","military_time","ampm","updateAppointments","_ref","$emit","deleteAppointment","clearAppointments","formattedNow","current_day","_this$kalendar_option2","hide_dates","hide_days","view_type","all","options","buildWeek","addNewEvent","targetRef","refObject","closePopups","refs","forEach","kalendar_kalendar_weekviewvue_type_script_lang_js_","kalendar_weekview_component","__webpack_exports__"],"mappings":"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","file":"js/chunk-75bff01c.9a62f066.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-day.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-day.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\n// 22.1.3.9 Array.prototype.findIndex(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(6);\nvar KEY = 'findIndex';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-weekview.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-weekview.vue?vue&type=style&index=0&lang=scss&\"","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"calendar-wrap\",style:((\"--space-between-cols: \" + _vm.colsSpace))},[_c('div',{staticClass:\"sticky-top\"},[_c('ul',{staticClass:\"days\"},_vm._l(((_vm.days || [])),function(ref,index){\nvar value = ref.value;\nreturn _c('li',{key:index,staticClass:\"day-indicator\",class:{'today': _vm._isToday(value), 'is-before': _vm.isBefore(value)}},[_c('div',[_c('span',{staticClass:\"letters-date\"},[_vm._v(_vm._s(_vm.kalendar_options.formatDayTitle(value)[0]))]),_c('span',{staticClass:\"number-date\"},[_vm._v(_vm._s(_vm.kalendar_options.formatDayTitle(value)[1]))])])])}),0),_c('ul',{staticClass:\"all-day\"},[_c('span',[_vm._v(\"All Day\")]),_vm._l(((_vm.days || [])),function(date,index){return _c('li',{key:index,class:{'all-today': _vm._isToday(date.value), 'is-all-day': false},style:((\"height:\" + (_vm.kalendar_options.cell_height + 5) + \"px\"))})})],2)]),(false)?_c('div',{staticClass:\"dummy-row\"},[_c('ul',{staticClass:\"dummy-days\"},_vm._l(((_vm.days || [])),function(day,index){return _c('li',{key:index,style:((\"height:\" + (_vm.kalendar_options.cell_height) + \"px\"))})}),0)]):_vm._e(),(_vm.hours)?_c('div',{staticClass:\"blocks\"},[_c('div',{staticClass:\"calendar-blocks\"},[_c('ul',{staticClass:\"hours\"},_vm._l(((_vm.hours || [])),function(hour,index){return (hour.visible)?_c('li',{key:index,staticClass:\"hour-row-identifier\",style:((\"height:\" + _vm.hourHeight + \"px\"))},[_c('span',[_vm._v(_vm._s(_vm.kalendar_options.formatLeftHours(hour.value)))])]):_vm._e()}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.kalendar_options.style !== 'material_design'),expression:\"kalendar_options.style !== 'material_design'\"}],staticClass:\"hour-indicator-line\",style:((\"top:\" + (_vm.passedtime.distance) + \"px\"))},[_c('span',{staticClass:\"time-value\"},[_vm._v(_vm._s(_vm.passedtime.value))]),_c('span',{staticClass:\"line\"})]),_vm._l((_vm.days),function(day,index){return _c('kalendar-days',{key:day.value.slice(0,10),ref:day.value.slice(0,10),refInFor:true,staticClass:\"building-blocks\",class:(\"day-\" + (index+1)),attrs:{\"day\":day,\"passed-time\":_vm.passedtime.distance}})})],2)]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',{ref:_vm.day.value + '-reference',staticClass:\"kalendar-day\",class:{\n    'is-weekend': _vm.isWeekend, \n    'is-today': _vm.isToday,\n    'creating': _vm.creator.creating || _vm.creator.status === 'popup-initiated'\n  },staticStyle:{\"position\":\"relative\"}},[(_vm.isToday)?_c('div',{ref:\"nowIndicator\",class:_vm.kalendar_options.style === 'material_design' ? 'hour-indicator-line' : 'hour-indicator-tooltip',style:((\"top:\" + _vm.passedTime + \"px\"))},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.kalendar_options.style === 'material_design'),expression:\"kalendar_options.style === 'material_design'\"}],staticClass:\"line\"})]):_vm._e(),_vm._l((_vm.day_cells),function(cell,index){return _c('kalendar-cell',{key:(\"cell-\" + index),attrs:{\"constructed-events\":_vm.day_events,\"creator\":_vm.creator,\"cell-data\":cell,\"index\":index,\"temporary-event\":_vm.temporary_event},on:{\"select\":_vm.updateCreator,\"reset\":function($event){return _vm.resetEvents()},\"initiatePopup\":function($event){return _vm.initiatePopup()}}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <ul style=\"position: relative;\"\n      :class=\"{\n      'is-weekend': isWeekend, \n      'is-today': isToday,\n      'creating': creator.creating || creator.status === 'popup-initiated'\n    }\"\n      class=\"kalendar-day\"\n      :ref=\"day.value + '-reference'\">\n    <div ref=\"nowIndicator\"\n         :class=\"kalendar_options.style === 'material_design' ? 'hour-indicator-line' : 'hour-indicator-tooltip'\"\n         v-if=\"isToday\"\n         :style=\"`top:${passedTime}px`\">\n      <span class=\"line\"\n            v-show=\"kalendar_options.style === 'material_design'\"></span>\n    </div>\n    <kalendar-cell v-for=\"(cell, index) in day_cells\"\n                   :constructed-events=\"day_events\"\n                   :key=\"`cell-${index}`\"\n                   :creator=\"creator\"\n                   :cell-data=\"cell\"\n                   :index=\"index\"\n                   @select=\"updateCreator\"\n                   @reset=\"resetEvents()\"\n                   @initiatePopup=\"initiatePopup()\"\n                   :temporary-event=\"temporary_event\" />\n  </ul>\n</template>\n<script>\nconst { cloneObject } = window.kalendarHelpers;\nimport Utils from './utils';\nconst { isToday, isWeekend } = Utils;\n\nimport myWorker from '@/components/kalendar/workers';\n\nexport default {\n  props: ['day', 'passedTime'],\n  created() {\n    // get and render day cells\n    // and then render any event\n    // on top of them\n    this.renderDay();\n  },\n  components: {\n    kalendarCell: () =>\n      import('./kalendar-cell.vue'),\n  },\n  provide() {\n    // provide these methods to children components\n    // for easier access\n    return {\n      kalendarAddEvent: this.addEvent,\n      kalendarClearPopups: this.clearCreatingLeftovers\n    };\n  },\n  // inject kalendar options from parent component\n  inject: ['kalendar_options'],\n  mounted() {\n    if (this.kalendar_options.scrollToNow && this.isToday) this.scrollView();\n  },\n  computed: {\n    isWeekend() {\n      return isWeekend(this.day.value);\n    },\n    isToday() {\n      return isToday(this.day.value);\n    },\n  },\n  data: () => ({\n    // this is the main object\n    // we use to make selections\n    // and control their flows\n    creator: {\n      creating: false,\n      starting_cell: null,\n      original_starting_cell: null,\n      current_cell: null,\n      ending_cell: null,\n      status: null,\n    },\n    // temporary event is an object\n    // that holds values of creator\n    // when the popup is initiated\n    temporary_event: null,\n\n    // day cells and events are used for rendering purposes\n    day_cells: [],\n    day_events: null,\n  }),\n  methods: {\n    renderDay() {\n      myWorker.send('getDayCells', {\n        day: this.day.value,\n        hourOptions: {\n          start_hour: this.kalendar_options.day_starts_at,\n          end_hour: this.kalendar_options.day_ends_at\n        }\n      }).then(reply => {\n        this.day_cells = reply;\n        return this.getDayEvents(this.$kalendar.getEvents());\n      });\n    },\n\n    addEvent(payload) {\n      // validation\n      let validation_message = this.checkEventValidity(payload);\n      if (validation_message !== null) {\n        return Promise.reject(validation_message);\n      }\n\n      // use web worker to generate event\n      // and then render it in the day_events objects\n      let { from, to } = payload;\n      from = kalendarHelpers.getLocaleTime(from);\n      to = kalendarHelpers.getLocaleTime(to);\n      return myWorker.send('constructNewEvent', {\n        event: {\n          ...payload,\n          from,\n          to\n        }\n      }).then(constructed_event => {\n        let { key } = constructed_event;\n        if (this.day_events.hasOwnProperty(key)) {\n          this.day_events[key].push(constructed_event);\n        } else {\n          // must use $set since key wasnt present in the object\n          // vue will fail to render it\n          this.$set(this.day_events, key, [constructed_event]);\n        }\n        let events = this.$kalendar.getEvents();\n        console.log('Adding event to kalendar', payload);\n        events.push({\n          ...payload,\n          id: constructed_event.id\n        });\n        this.$kalendar.updateEvents(events);\n      });\n    },\n\n    // this is not called inside this component\n    // but rather from the kalendar-weekview component\n    // which targets it using $refs object.\n    removeEvent(payload) {\n      let events = this.$kalendar.getEvents();\n      let eventIndex = events.findIndex(event => event.id === payload.id);\n      if (eventIndex < 0) return;\n      events.splice(eventIndex, 1);\n      let index = this.day_events[payload.key]\n        .findIndex(event => event.id === payload.id);\n      this.day_events[payload.key].splice(index, 1);\n      this.$kalendar.updateEvents(events);\n      return Promise.resolve();\n    },\n    checkEventValidity(payload) {\n      let { from, to } = payload;\n      if (!from || !to) return 'No dates were provided in the payload';\n      /*if (isoFrom !== from) {\n        return 'From date is not ISO format';\n      }\n      if (isoTo !== to) {\n        return 'To date is not ISO format';\n      }*/\n      return null;\n    },\n    getDayEvents(events) {\n      let clonedEvents = events.map(event => cloneObject(event));\n      return myWorker.send('constructDayEvents', {\n        events: clonedEvents,\n        day: this.day.value,\n      }).then(constructed_events => {\n        this.day_events = constructed_events;\n      })\n    },\n    clearCreatingLeftovers() {\n      for (let key in this.day_events) {\n        let hasPending = this.day_events[key].some(event => {\n          return event.status === 'popup-initiated' || event.status === 'creating';\n        });\n        if (hasPending) {\n          let completed = this.day_events[key]\n            .filter(event => event.status === 'completed');\n          this.$set(this.day_events, key, completed);\n          if (completed.length === 0) {\n            delete this.day_events[key];\n          }\n        }\n      }\n      this.resetEvents();\n    },\n    resetEvents() {\n      if (!this.creator.creating && this.creator.status === null) return;\n      this.creator = {\n        creating: false,\n        starting_cell: null,\n        original_starting_cell: null,\n        current_cell: null,\n        ending_cell: null,\n        status: null,\n        temporary_id: null\n      };\n      this.temporary_event = null;\n    },\n\n    // this method is what we use\n    // to start the flow of selecting a new cell\n    // while the creator is enabled\n    updateCreator(payload) {\n      this.creator = {\n        ...this.validateSelection(payload),\n        status: 'creating'\n      };\n      if (this.kalendar_options.overlap === false && this.day_events.length > 0) {\n        let fixedOverlap = this.overlapPolice(payload);\n        if (fixedOverlap) {\n          this.creator = this.validateSelection(fixedOverlap);\n          this.selectCell();\n          this.initiatePopup();\n          return;\n        }\n      }\n      this.selectCell();\n    },\n\n    // when the direction is reversed,\n    // the ending cell is actually the originally selected cell\n    validateSelection(event) {\n      let { original_starting_cell, starting_cell, current_cell } = event;\n      if (event.direction === 'reverse' &&\n        original_starting_cell.index > current_cell.index) {\n        return {\n          ...event,\n          starting_cell: current_cell,\n          ending_cell: original_starting_cell\n        }\n      }\n      return event;\n    },\n    selectCell() {\n      if (!this.creator.creating) return;\n      let {\n        creating,\n        ending_cell,\n        current_cell,\n        starting_cell,\n        original_starting_cell\n      } = this.creator;\n\n      let real_ending_cell_index = ending_cell.index + 1;\n      ending_cell = this.day_cells[real_ending_cell_index];\n\n      const diffInMs = new Date(ending_cell.value) - new Date(starting_cell.value);\n      const diffInHrs = Math.floor((diffInMs % 86400000) / 3600000);\n      const diffMins = Math.round(((diffInMs % 86400000) % 3600000) / 60000);\n      let startDate = new Date(starting_cell.value);\n      let endDate = new Date(ending_cell.value);\n\n      let distance = diffMins + (diffInHrs * 60);\n\n      this.temporary_event = {\n        start: {\n          masked_value: startDate.toISOString(),\n          value: startDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        end: {\n          masked_value: endDate.toISOString(),\n          value: endDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        distance: distance,\n        status: 'creating'\n      };\n    },\n    initiatePopup() {\n      if (this.creating && this.creator.status !== 'creating') return;\n      this.creator = {\n        ...this.creator,\n        status: 'popup-initiated',\n        creating: false\n      };\n      let { ending_cell, current_cell, starting_cell, original_starting_cell } = this.creator;\n      let real_ending_cell_index = ending_cell.index + 1;\n      ending_cell = this.day_cells[real_ending_cell_index];\n\n      const diffInMs = new Date(ending_cell.value) - new Date(starting_cell.value);\n      const diffInHrs = Math.floor((diffInMs % 86400000) / 3600000);\n      const diffMins = Math.round(((diffInMs % 86400000) % 3600000) / 60000);\n      let startDate = new Date(starting_cell.value);\n      let endDate = new Date(ending_cell.value);\n\n      let finalEvent = {\n        start: {\n          masked_value: startDate.toISOString(),\n          value: startDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        end: {\n          masked_value: endDate.toISOString(),\n          value: endDate.toISOString(),\n          rounded: false,\n          round_offset: null\n        },\n        distance: diffMins + (diffInHrs * 60),\n        status: 'popup-initiated'\n      };\n\n      let updated_events = this.day_events[starting_cell.value];\n      if (!updated_events) updated_events = [];\n      updated_events.push(finalEvent);\n\n      this.$set(this.day_events, starting_cell.value, updated_events);\n      this.temporary_event = null;\n    },\n    overlapPolice(payload) {\n      if (!payload.current_cell) return;\n      let overlapped = Object.keys(this.day_events)\n        .map(evKey => {\n          return this.day_events[evKey]\n        })\n        .flat()\n        .filter(event => {\n          let cellStart = new Date(payload.starting_cell.value);\n          let cellEnd = new Date(payload.ending_cell.value);\n          let eventStarts = new Date(event.start.value);\n          let eventEnds = new Date(event.end.value);\n          return (cellEnd > eventStarts && cellEnd < eventEnds) ||\n            (cellStart < eventStarts && cellEnd > eventStarts);\n        });\n      if (!overlapped || overlapped.length === 0) {\n        return;\n      }\n      let newPayload = payload;\n      if (payload.direction === 'reverse') {\n        let needed_cell = overlapped[0].end;\n        let event_cell = this.day_cells.find(c => c.value === needed_cell.masked_value);\n        let cell = this.day_cells[event_cell.index];\n        newPayload.starting_cell = {\n          value: cell.value,\n          index: cell.index\n        };\n        newPayload.current_cell = {\n          value: cell.value,\n          index: cell.index\n        };\n      } else {\n        let needed_cell = overlapped[0].start;\n        let event_cell = this.day_cells.find(c => c.value === needed_cell.masked_value);\n        let cell = this.day_cells[event_cell.index - 1];\n        newPayload.ending_cell = {\n          value: cell.value,\n          index: cell.index\n        };\n      }\n      return newPayload;\n    },\n    scrollView() {\n      let topoffset = this.$refs.nowIndicator.offsetTop;\n      console.log('Scrolling to :', topoffset);\n      setTimeout(() => {\n        window.scroll({ top: topoffset, left: 0, behavior: 'smooth' });\n      }, 500);\n    },\n  },\n}\n</script>\n<style lang=\"scss\">\nul.kalendar-day {\n  position: relative;\n  background-color: white;\n\n  &.is-weekend {\n    background-color: var(--weekend-color);\n  }\n\n  &.is-today {\n    background-color: var(--current-day-color);\n  }\n\n  .clear {\n    position: absolute;\n    z-index: 1;\n    top: -20px;\n    right: 0;\n    font-size: 10px;\n  }\n\n  &.creating {\n    z-index: 11;\n\n    .created-event {\n      pointer-events: none;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-day.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-day.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./kalendar-day.vue?vue&type=template&id=6f00e600&\"\nimport script from \"./kalendar-day.vue?vue&type=script&lang=js&\"\nexport * from \"./kalendar-day.vue?vue&type=script&lang=js&\"\nimport style0 from \"./kalendar-day.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"calendar-wrap\"\n       :style=\"`--space-between-cols: ${colsSpace}`\">\n    <div class=\"sticky-top\">\n      <ul class=\"days\">\n        <li class=\"day-indicator\"\n            :key=\"index\"\n            v-for=\"({value}, index) in (days || [])\"\n            :class=\"{'today': _isToday(value), 'is-before': isBefore(value)}\">\n          <div>\n            <span class=\"letters-date\">{{kalendar_options.formatDayTitle(value)[0]}}</span>\n            <span class=\"number-date\">{{kalendar_options.formatDayTitle(value)[1]}}</span>\n          </div>\n        </li>\n      </ul>\n      <ul class=\"all-day\">\n        <span>All Day</span>\n        <li :key=\"index\"\n            v-for=\"(date, index) in (days || [])\"\n            :class=\"{'all-today': _isToday(date.value), 'is-all-day': false}\"\n            :style=\"`height:${kalendar_options.cell_height + 5}px`\"></li>\n      </ul>\n    </div>\n    <div class=\"dummy-row\"\n         v-if=\"false\">\n      <ul class=\"dummy-days\">\n        <li :key=\"index\"\n            v-for=\"(day, index) in (days || [])\"\n            :style=\"`height:${kalendar_options.cell_height}px`\"></li>\n      </ul>\n    </div>\n    <div class=\"blocks\"\n         v-if=\"hours\">\n      <div class=\"calendar-blocks\">\n        <ul class=\"hours\">\n          <li class=\"hour-row-identifier\"\n              :key=\"index\"\n              v-for=\"(hour, index) in (hours || [])\"\n              v-if=\"hour.visible\"\n              :style=\"`height:${hourHeight}px`\">\n            <span>{{kalendar_options.formatLeftHours(hour.value)}}</span>\n          </li>\n        </ul>\n        <div v-show=\"kalendar_options.style !== 'material_design'\"\n             class=\"hour-indicator-line\"\n             :style=\"`top:${passedtime.distance}px`\">\n          <span class=\"time-value\">{{passedtime.value}}</span>\n          <span class=\"line\"></span>\n        </div>\n        <kalendar-days :day=\"day\"\n                       class=\"building-blocks\"\n                       :class=\"`day-${index+1}`\"\n                       :key=\"day.value.slice(0,10)\"\n                       v-for=\"(day, index) in days\"\n                       :passed-time=\"passedtime.distance\"\n                       :ref=\"day.value.slice(0,10)\">\n        </kalendar-days>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport KalendarDays from './kalendar-day.vue';\nimport myWorker from '@/components/kalendar/workers';\nimport Utils from './utils';\nconst { isBefore, isToday, getHourlessDate, addTimezoneInfo, getDatelessHour, getLocaleTime, formatAMPM } = Utils;\n\nexport default {\n  components: {\n    KalendarDays,\n  },\n  created() {\n    this.addHelperMethods();\n    setInterval(() => this.kalendar_options.now = new Date, 1000 * 60);\n    this.constructWeek();\n  },\n  inject: ['kalendar_options', 'kalendar_events'],\n  data: () => ({\n    hours: null,\n    days: []\n  }),\n  computed: {\n    colsSpace() {\n      return this.kalendar_options.style === 'flat_design' ? '5px' : '0px';\n    },\n    hourHeight() {\n      return 6 * this.kalendar_options.cell_height;\n      //this.kalendar_options.cell_height * (60 / this.kalendar_options.split_value); \n      // * this.kalendar_options.hour_parts;\n    },\n    passedtime() {\n      let { day_starts_at, day_ends_at, now } = this.kalendar_options;\n      let time = getLocaleTime(now);\n      let day_starts = `${time.split('T')[0]}T${(day_starts_at + '').padStart(2,0)}:00:00.000Z`;\n      let day_ends = `${time.split('T')[0]}T${(day_ends_at + '').padStart(2,0)}:00:00.000Z`;\n\n      console.log({ day_starts, day_ends, time });\n\n      if (new Date(day_ends) - new Date(time) < 0) {\n        return null;\n      }\n      if (new Date(time) - new Date(day_starts) < 0) {\n        return null;\n      }\n\n      let label = time.split('T')[1].slice(0, 5);\n      if (this.kalendar_options.military_time) {\n        let ampm = formatAMPM(label.split(':')[0]);\n        let ampmlabel = ampm.slice(-2);\n        console.log({ ampm });\n      }\n      let distance = ((new Date(time) - new Date(day_starts)) / 1000) / 60;\n      return { distance, time };\n    },\n  },\n  methods: {\n    _isToday(day) {\n      return isToday(day);\n    },\n    updateAppointments({ id, data }) {\n      this.$emit('update', { id, data });\n    },\n    deleteAppointment(id) {\n      this.$emit('delete', { id });\n    },\n    clearAppointments() {\n      this.$emit('clear');\n    },\n    isBefore(day) {\n      let now = new Date(this.kalendar_options.now);\n      let formattedNow = getLocaleTime(now.toISOString());\n      return isBefore(day, getHourlessDate(formattedNow));\n    },\n    constructWeek() {\n      const date = this.kalendar_options.current_day.slice(0, 10);\n      const { hide_dates, hide_days, view_type } = this.kalendar_options;\n      return Promise.all([\n        myWorker.send('getDays', {\n          day: date,\n          options: {\n            hide_dates,\n            hide_days,\n            view_type\n          }\n        }).then(reply => {\n          this.days = reply; //.slice(0,1);\n        }),\n\n        myWorker.send('getHours', {\n          hourOptions: {\n            start_hour: this.kalendar_options.day_starts_at,\n            end_hour: this.kalendar_options.day_ends_at\n          }\n        }).then(reply => {\n          // Handle the reply\n          this.hours = reply;\n        })\n      ]);\n    },\n    addHelperMethods() {\n      this.$kalendar.buildWeek = () => {\n        this.constructWeek();\n      };\n      this.$kalendar.addNewEvent = (payload) => {\n        if (!payload) return Promise.reject('No payload');\n\n        let { from, to } = payload;\n        if (from.slice(-4) === '000Z') payload.from = addTimezoneInfo(from);\n        if (to.slice(-4) === '000Z') payload.to = addTimezoneInfo(to);\n        let targetRef = payload.from.slice(0, 10);\n        const refObject = this.$refs[targetRef];\n        if (refObject && refObject[0]) {\n          refObject[0].addEvent(payload);\n        } else {\n          // appointment is not in this view\n          let events = this.$kalendar.getEvents();\n          events.push(payload);\n          this.$kalendar.updateEvents(events);\n        }\n      };\n\n      this.$kalendar.removeEvent = (options) => {\n        let { day, key, id } = options;\n        if (day.length > 10) {\n          day = day.slice(0, 10);\n        }\n        console.log('Options:', options);\n        if (!day)\n          return Promise.reject('Day wasn\\'t provided');\n        if (!id)\n          return Promise.reject('No ID was provided');\n        if (!key)\n          return Promise.reject('No key was provided in the object');\n        let targetRef = day;\n        this.$refs[targetRef][0].removeEvent({ id, key });\n      };\n\n      this.$kalendar.closePopups = () => {\n        let refs = this.days.map(day => day.value.slice(0, 10));\n        refs.forEach(ref => {\n          this.$refs[ref][0].clearCreatingLeftovers();\n        });\n      }\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n$blue: #5FB3F2;\n$lblue: #D6EEFC;\n$dblue: #3D79B4;\n$lightgrey: #c7c9d5; //$lightgrey: #F5F4F5;\n$grey: #c7c9d5; //#C1C4C8;\n$a-grey: #666;\n$border-color: transparent;\n$theme-color: #e5e5e5;\n\n.calendar-wrap {\n  display: flex;\n  flex-direction: column;\n\n  ul {\n    list-style: none;\n    padding: 0px;\n\n    >li {\n      display: flex;\n    }\n  }\n}\n\n.sticky-top {\n  position: sticky;\n  top: 0;\n  z-index: 20;\n  background-color: white;\n\n  .days {\n    margin: 0px;\n    display: flex;\n    margin-left: 55px;\n\n    li {\n      display: inline-flex;\n      align-items: flex-end;\n      padding-top: 10px;\n      flex: 1;\n      font-size: 1.1rem;\n      color: $a-grey;\n      font-weight: 300;\n      margin-right: var(--space-between-cols);\n      border-bottom: solid 1px #e5e5e5;\n      padding-bottom: 5px;\n      position: relative;\n      font-size: 18px;\n\n      span {\n        margin-right: 3px;\n      }\n\n      span:first-child {\n        font-size: 20px;\n        font-weight: 500;\n      }\n    }\n\n    .today {\n      border-bottom-color: var(--main-color);\n      color: var(--main-color) !important;\n    }\n\n    .today::after {\n      content: '';\n      position: absolute;\n      height: 2px;\n      bottom: 0;\n      left: 0;\n      width: 100%;\n      background-color: var(--main-color);\n    }\n  }\n\n  .all-day {\n    display: flex;\n    margin-bottom: 0px; //border-top: solid 1px #e5e5e5;\n    margin-top: 0px;\n    border-bottom: solid 2px #e5e5e5;\n\n    span {\n      display: flex;\n      align-items: center;\n      padding: 0px 5px;\n      width: 55px;\n      font-weight: 500;\n      font-size: .8rem;\n      color: darken($grey, 5);\n      text-transform: lowercase;\n    }\n\n    li {\n      flex: 1; //border-right: solid 5px $border-color;\n      margin-right: var(--space-between-cols);\n\n      &.all-today {\n        background-color: #FEF4F4;\n      }\n    }\n  }\n}\n\n.dummy-row {\n  display: flex;\n  padding-left: 55px;\n\n  ul {\n    display: flex;\n    flex: 1;\n    margin: 0px;\n  }\n\n  li {\n    flex: 1;\n    height: 15px; //border-right: solid 5px $border-color;\n    margin-right: var(--space-between-cols);\n    border-bottom: solid 1px #e5e5e5;\n  }\n}\n\n.blocks {\n  display: flex;\n  position: relative;\n  height: 100%;\n\n  ul {\n    margin-top: 0px;\n  }\n\n  .building-blocks {\n    flex: 1;\n    margin-right: var(--space-between-cols);\n    margin-bottom: 0px;\n    display: flex;\n    flex-direction: column;\n  }\n\n  .calendar-blocks {\n    width: 100%;\n    display: flex;\n    position: relative;\n  }\n}\n\n.hours {\n  display: flex;\n  flex-direction: column;\n  color: darken($grey, 5);\n  font-weight: 500;\n  font-size: .85rem;\n  width: 55px;\n  height: 100%;\n  margin-bottom: 0px;\n\n  li {\n    color: var(--hour-row-color);\n    border-bottom: solid 1px $border-color;\n    padding-left: 8px;\n\n    span {\n      margin-top: -8px;\n    }\n\n    &:first-child span {\n      visibility: hidden;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-weekview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-weekview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./kalendar-weekview.vue?vue&type=template&id=aef577b8&\"\nimport script from \"./kalendar-weekview.vue?vue&type=script&lang=js&\"\nexport * from \"./kalendar-weekview.vue?vue&type=script&lang=js&\"\nimport style0 from \"./kalendar-weekview.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}