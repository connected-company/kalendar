{"version":3,"sources":["webpack:///./src/components/kalendar/kalendar-event.vue?f036","webpack:///./src/components/kalendar/kalendar-event.vue?e401","webpack:///src/components/kalendar/kalendar-event.vue","webpack:///./src/components/kalendar/kalendar-event.vue?4aa1","webpack:///./src/components/kalendar/kalendar-event.vue"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_kalendar_event_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_kalendar_event_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","ref","event","staticClass","class","is-past","isPast","overlaps","two-in-one","total","inspecting","event-card__mini","distance","event-card__small","style","width_value","left_offset","top_offset","on","click","$event","mouseleave","status","attrs","slot-props","information","name","slim","_e","staticRenderFns","isBefore","utils","getLocaleTime","kalendar_eventvue_type_script_lang_js_","props","created","inject","data","editing","computed","now","Date","toISOString","start","value","concat","index","round_offset","multiplier","kalendar_options","cell_height","_this$event","end","id","key","payload","start_time","kalendarHelpers","addTimezoneInfo","end_time","kalendar_id","editEvent","$kalendar","closePopups","closeEventPopup","kalendar_kalendar_eventvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-ff267764.a5028f8b.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:(\"kalendarEventRef-\" + (_vm.event.id)),staticClass:\"event-card\",class:{\n      'is-past': _vm.isPast,\n    'overlaps': _vm.overlaps > 0,\n    'two-in-one': _vm.total > 1, \n    'inspecting': !!_vm.inspecting,\n    'event-card__mini': _vm.event.distance <= 10,\n    'event-card__small': (_vm.event.distance > 10 && _vm.event.distance < 40) || (_vm.overlaps > 1) \n  },style:((\"\\n    height: \" + _vm.distance + \"; \\n    width: calc(\" + _vm.width_value + \"); \\n    left: calc(\" + _vm.left_offset + \");\\n    top: \" + _vm.top_offset + \";\\n  \")),on:{\"click\":function($event){_vm.inspecting = true},\"mouseleave\":function($event){_vm.inspecting = false}}},[(_vm.status === 'creating' || _vm.status === 'popup-initiated')?_c('portal-target',{attrs:{\"slot-props\":_vm.information,\"name\":\"event-creation\",\"slim\":\"\"}}):_c('portal-target',{attrs:{\"name\":\"event-details\",\"slot-props\":_vm.information,\"slim\":\"\"}}),(_vm.status === 'popup-initiated')?_c('div',{staticClass:\"popup-wrapper\"},[_c('portal-target',{attrs:{\"name\":\"event-popup-form\",\"slim\":\"\",\"slot-props\":_vm.information}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"event-card\"\n       :ref=\"`kalendarEventRef-${event.id}`\"\n       :style=\"`\n      height: ${distance}; \n      width: calc(${width_value}); \n      left: calc(${left_offset});\n      top: ${top_offset};\n    `\"\n       @click=\"inspecting = true\"\n       @mouseleave=\"inspecting = false\"\n       :class=\"{\n        'is-past': isPast,\n      'overlaps': overlaps > 0,\n      'two-in-one': total > 1, \n      'inspecting': !!inspecting,\n      'event-card__mini': event.distance <= 10,\n      'event-card__small': (event.distance > 10 && event.distance < 40) || (overlaps > 1) \n    }\">\n    <portal-target v-if=\"status === 'creating' || status === 'popup-initiated'\"\n                   :slot-props=\"information\"\n                   name=\"event-creation\"\n                   slim></portal-target>\n    <portal-target v-else\n                   name=\"event-details\"\n                   :slot-props=\"information\"\n                   slim>\n    </portal-target>\n    <div v-if=\"status === 'popup-initiated'\"\n         class=\"popup-wrapper\">\n      <portal-target name=\"event-popup-form\"\n                     slim\n                     :slot-props=\"information\">\n      </portal-target>\n    </div>\n  </div>\n</template>\n<script>\nimport Utils from './utils.js';\nconst { isBefore, getLocaleTime } = Utils;\n\nexport default {\n  props: ['event', 'total', 'index', 'overlaps'],\n  created() {},\n  inject: ['kalendar_options'],\n  data: () => ({\n    inspecting: false,\n    editing: false,\n  }),\n  computed: {\n    isPast() {\n      let now = getLocaleTime(new Date().toISOString());\n      return isBefore(this.event.start.value, now);\n    },\n    width_value() {\n      return `${100/this.total}% - ${this.overlaps * 50 / this.total}px`;\n    },\n    left_offset() {\n      return `(${this.index} * (${this.width_value})) + ${this.overlaps * 50}px`;\n    },\n    top_offset() {\n      return this.event.start.round_offset ? `${this.event.start.round_offset}px` : `0px`;\n    },\n    distance() {\n      if (!this.event) return;\n      let multiplier = this.kalendar_options.cell_height / 10;\n      // 0.5 * multiplier for an offset so next cell is easily selected\n      return `${(this.event.distance * multiplier) - (0.2 * multiplier)}px`;\n    },\n    status() {\n      return (this.event && this.event.status) || this.editing;\n    },\n    information() {\n      let { start, end, data, id, key } = this.event;\n      let payload = {\n        start_time: kalendarHelpers.addTimezoneInfo(start.value),\n        end_time: kalendarHelpers.addTimezoneInfo(end.value),\n        kalendar_id: id,\n        key,\n        data\n      }\n      return payload;\n    },\n    editEvent() {\n      this.$kalendar.closePopups();\n      this.editing = true;\n    },\n    closeEventPopup() {\n      this.editing = false;\n    },\n  }\n}\n</script>\n<style lang=\"scss\">\n$creator-bg: #34aadc;\n$creator-content: white;\n\n.event-card {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  width: 100%;\n\n  h4,\n  p,\n  span {\n    margin: 0px;\n  }\n\n  >* {\n    flex: 1;\n    position: relative;\n  }\n\n  &.creating {\n    z-index: -1;\n  }\n\n  &.overlaps>* {\n    border: solid 1px white !important;\n  }\n\n  &.inspecting {\n    z-index: 11 !important;\n\n    .created-event {\n      box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14), 0 1px 18px 0 rgba(0, 0, 0, 0.12), 0 3px 5px -1px rgba(0, 0, 0, 0.2);\n      transition: opacity 100ms linear;\n    }\n  }\n\n  &__mini {\n    .created-event > .details-card > * {\n      display: none;\n    }\n\n    .appointment-title,\n    .time {\n      display: block!important;\n      position: absolute;\n      top: 0;\n      font-size: 9px;\n      z-index: 1;\n      overflow: visible;\n      height: 100%;\n    }\n  }\n\n  &__small {\n    .appointment-title {\n      font-size: 80%;\n    }\n\n    .time {\n      font-size: 70%;\n    }\n  }\n\n  &.two-in-one .details-card>* {\n    font-size: 60%;\n  }\n\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0; //z-index: 20!important;\n  //background-color: rgba($creator-bg, .85);\n  color: $creator-content;\n  user-select: none;\n  will-change: height; //padding: 4px 6px;\n\n  h1,\n  h2,\n  h3,\n  h4,\n  h5,\n  h6,\n  p {\n    margin: 0px;\n  }\n}\n\n.time {\n  position: absolute;\n  bottom: 4px;\n  right: 6px;\n  font-size: 11px;\n}\n\n.popup-wrapper {\n  text-shadow: none;\n  color: black;\n  z-index: 10;\n  position: absolute;\n  top: 0;\n  left: calc(100% + 5px);\n  display: flex;\n  flex-direction: column;\n  pointer-events: all;\n  user-select: none;\n  background-color: white;\n  border: solid 1px rgba(black, .08);\n  border-radius: 4px;\n  box-shadow: 0px 2px 12px -3px rgba(black, .3);\n  padding: 10px;\n\n  h4 {\n    color: black;\n    font-weight: 400;\n  }\n\n  input,\n  textarea {\n    border: none;\n    background-color: darken(white, 8);\n    color: lighten(black, 1);\n    border-radius: 4px;\n    padding: 5px 8px;\n    margin-bottom: 5px;\n  }\n}\n\n.created-event {\n  pointer-events: all;\n  position: relative;\n\n  >.details-card {\n    max-width: 100%;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    display: -webkit-box;\n    -webkit-line-clamp: 3;\n    -webkit-box-orient: vertical;\n\n    >h1,\n    h2,\n    h3,\n    h4,\n    p,\n    small,\n    strong,\n    span {\n      text-overflow: ellipsis;\n      overflow: hidden;\n      display: block;\n    }\n  }\n}\n\nul:last-child .popup-wrapper {\n  left: auto;\n  right: 100%;\n  margin-right: 10px;\n}\n\n.day-view ul .popup-wrapper {\n  left: auto;\n  right: auto;\n  width: calc(100% - 10px);\n  top: 10px;\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./kalendar-event.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./kalendar-event.vue?vue&type=template&id=543cef36&\"\nimport script from \"./kalendar-event.vue?vue&type=script&lang=js&\"\nexport * from \"./kalendar-event.vue?vue&type=script&lang=js&\"\nimport style0 from \"./kalendar-event.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}